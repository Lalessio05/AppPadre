{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar windowWidth = Dimensions.get(\"window\").width;\nvar IMAGE_HEIGHT = 100;\nvar _useState = useState([{\n    source: require(\"../images/Cucina.jpg\"),\n    key: \"0\",\n    text: \"Cucina\",\n    batterie: []\n  }, {\n    source: require(\"../images/Cucina.jpg\"),\n    key: \"1\",\n    text: \"Cameretta\",\n    batterie: []\n  }, {\n    source: require(\"../images/Cucina.jpg\"),\n    key: \"2\",\n    text: \"Bagno giù\",\n    batterie: []\n  }, {\n    source: require(\"../images/Cucina.jpg\"),\n    key: \"3\",\n    text: \"Camera da letto\",\n    batterie: []\n  }, {\n    source: require(\"../images/Cucina.jpg\"),\n    key: \"4\",\n    text: \"Entrata\",\n    batterie: []\n  }, {\n    source: require(\"../images/Cucina.jpg\"),\n    key: \"5\",\n    text: \"Bagno Mansarda\",\n    batterie: []\n  }, {\n    source: require(\"../images/Cucina.jpg\"),\n    key: \"6\",\n    text: \"Mansarda Camera\",\n    batterie: []\n  }]),\n  _useState2 = _slicedToArray(_useState, 2),\n  valvole = _useState2[0],\n  setValvole = _useState2[1];\nvar ImageWithText = function ImageWithText(_ref) {\n  var image = _ref.image,\n    text = _ref.text,\n    onPress = _ref.onPress,\n    style = _ref.style,\n    riga = _ref.riga;\n  return _jsx(View, {\n    style: style,\n    children: _jsxs(TouchableOpacity, {\n      onPress: onPress,\n      children: [_jsx(Image, {\n        source: image,\n        style: {\n          width: windowWidth,\n          height: IMAGE_HEIGHT\n        }\n      }), _jsx(View, {\n        style: {\n          position: \"absolute\",\n          top: Number(riga),\n          left: 10\n        },\n        children: _jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: \"bold\"\n          },\n          children: text\n        })\n      })]\n    })\n  });\n};\nexport default function ValvoleScreen(_ref2) {\n  var navigation = _ref2.navigation;\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    modalVisible = _useState4[0],\n    setModalVisible = _useState4[1];\n  return _jsxs(View, {\n    children: [_jsxs(Modal, {\n      animationType: \"slide\",\n      transparent: true,\n      visible: modalVisible,\n      onRequestClose: function onRequestClose() {\n        setValvole([].concat(_toConsumableArray(valvole), [{\n          source: \"../images/Cucina.jpg\",\n          key: valvole.length + 1,\n          text: \"tbd\",\n          batterie: []\n        }]));\n      },\n      children: [_jsx(TextInput, {}), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return setModalVisible(!modalVisible);\n        },\n        children: _jsx(Text, {\n          style: {\n            fontSize: 30\n          },\n          children: \"Ciao\"\n        })\n      })]\n    }), _jsx(View, {\n      children: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          setModalVisible(true);\n        },\n        children: _jsx(Text, {\n          children: \"+\"\n        })\n      })\n    }), _jsx(ScrollView, {\n      children: valvole.map(function (valvola) {\n        return _jsx(ImageWithText, {\n          style: {\n            width: windowWidth\n          },\n          riga: valvola.key,\n          image: valvola.source,\n          text: valvola.text,\n          onPress: function onPress() {\n            valvola.batterie.push(new Date());\n            console.log(\"Batterie cambiate.\");\n            if (valvola.batterie.length >= 2) {\n              console.log(\"Sono passati \" + (valvola.batterie[valvola.batterie.length - 1] - valvola.batterie[valvola.batterie.length - 2]) / (1000 * 60 * 60) + \" giorni.\");\n            }\n          }\n        }, valvola.key);\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  button: {\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  buttonOpen: {\n    backgroundColor: \"#F194FF\"\n  },\n  buttonClose: {\n    backgroundColor: \"#2196F3\"\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"names":["React","useState","windowWidth","Dimensions","get","width","IMAGE_HEIGHT","source","require","key","text","batterie","valvole","setValvole","ImageWithText","image","onPress","style","riga","height","position","top","Number","left","fontSize","fontWeight","ValvoleScreen","navigation","modalVisible","setModalVisible","length","map","valvola","push","Date","console","log","styles","StyleSheet","create","centeredView","flex","justifyContent","alignItems","marginTop","modalView","margin","backgroundColor","borderRadius","padding","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","button","buttonOpen","buttonClose","textStyle","color","textAlign","modalText","marginBottom"],"sources":["C:/Users/catri/Documents/Code/AppPadre/components/ValvoleScreen.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  TouchableOpacity,\r\n  Image,\r\n  Dimensions,\r\n  ScrollView,\r\n  Modal,\r\n  StyleSheet,\r\n  TextInput,\r\n} from \"react-native\";\r\n\r\nconst windowWidth = Dimensions.get(\"window\").width;\r\nconst IMAGE_HEIGHT = 100;\r\n\r\nconst [valvole,setValvole] = useState ([\r\n  {\r\n    source: require(\"../images/Cucina.jpg\"),\r\n    key: \"0\",\r\n    text: \"Cucina\",\r\n    batterie: [],\r\n  },\r\n  {\r\n    source: require(\"../images/Cucina.jpg\"),\r\n    key: \"1\",\r\n    text: \"Cameretta\",\r\n    batterie: [],\r\n  },\r\n  {\r\n    source: require(\"../images/Cucina.jpg\"),\r\n    key: \"2\",\r\n    text: \"Bagno giù\",\r\n    batterie: [],\r\n  },\r\n  {\r\n    source: require(\"../images/Cucina.jpg\"),\r\n    key: \"3\",\r\n    text: \"Camera da letto\",\r\n    batterie: [],\r\n  },\r\n  {\r\n    source: require(\"../images/Cucina.jpg\"),\r\n    key: \"4\",\r\n    text: \"Entrata\",\r\n    batterie: [],\r\n  },\r\n  {\r\n    source: require(\"../images/Cucina.jpg\"),\r\n    key: \"5\",\r\n    text: \"Bagno Mansarda\",\r\n    batterie: [],\r\n  },\r\n  {\r\n    source: require(\"../images/Cucina.jpg\"),\r\n    key: \"6\",\r\n    text: \"Mansarda Camera\",\r\n    batterie: [],\r\n  },\r\n]);\r\n\r\nconst ImageWithText = ({ image, text, onPress, style, riga }) => (\r\n  <View style={style}>\r\n    <TouchableOpacity onPress={onPress}>\r\n      <Image\r\n        source={image}\r\n        style={{ width: windowWidth, height: IMAGE_HEIGHT }}\r\n      />\r\n      <View style={{ position: \"absolute\", top: Number(riga), left: 10 }}>\r\n        <Text style={{ fontSize: 20, fontWeight: \"bold\" }}>{text}</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  </View>\r\n);\r\n\r\nexport default function ValvoleScreen({ navigation }) {\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  return (\r\n    <View>\r\n      <Modal\r\n      animationType=\"slide\"\r\n      transparent={true}\r\n      visible={modalVisible}\r\n      onRequestClose= {()=> {setValvole([...valvole, {source : \"../images/Cucina.jpg\", key: valvole.length+1, text: \"tbd\", batterie: []}])}}\r\n      >\r\n        <TextInput/>\r\n        <TouchableOpacity onPress={()=>setModalVisible(!modalVisible)}>\r\n          <Text style={{fontSize:30}}>Ciao</Text>\r\n        </TouchableOpacity>\r\n      </Modal>\r\n\r\n      <View>\r\n        {/*Header*/}\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            setModalVisible(true);\r\n          }}\r\n        >\r\n          <Text>+</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n      <ScrollView>\r\n        {valvole.map((valvola) => (\r\n          //foreach (var valvola in valvole)\r\n          \r\n          <ImageWithText\r\n            key={valvola.key}\r\n            style={{\r\n              width: windowWidth,\r\n            }}\r\n            riga={valvola.key}\r\n            image={valvola.source}\r\n            text={valvola.text}\r\n            onPress={() => {\r\n              valvola.batterie.push(new Date());\r\n              console.log(\"Batterie cambiate.\");\r\n              if (valvola.batterie.length >= 2) {\r\n                console.log(\r\n                  \"Sono passati \" +\r\n                    (valvola.batterie[valvola.batterie.length - 1] -\r\n                      valvola.batterie[valvola.batterie.length - 2]) /\r\n                      (1000 * 60 * 60) +\r\n                    \" giorni.\"\r\n                );\r\n              }\r\n            }}\r\n          />\r\n        ))}\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  centeredView: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginTop: 22,\r\n  },\r\n  modalView: {\r\n    margin: 20,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 20,\r\n    padding: 35,\r\n    alignItems: \"center\",\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 4,\r\n    elevation: 5,\r\n  },\r\n  button: {\r\n    borderRadius: 20,\r\n    padding: 10,\r\n    elevation: 2,\r\n  },\r\n  buttonOpen: {\r\n    backgroundColor: \"#F194FF\",\r\n  },\r\n  buttonClose: {\r\n    backgroundColor: \"#2196F3\",\r\n  },\r\n  textStyle: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\",\r\n  },\r\n  modalText: {\r\n    marginBottom: 15,\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaxC,IAAMC,WAAW,GAAGC,UAAU,CAACC,GAAG,CAAC,QAAQ,CAAC,CAACC,KAAK;AAClD,IAAMC,YAAY,GAAG,GAAG;AAExB,gBAA6BL,QAAQ,CAAE,CACrC;IACEM,MAAM,EAAEC,OAAO,wBAAwB;IACvCC,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE,QAAQ;IACdC,QAAQ,EAAE;EACZ,CAAC,EACD;IACEJ,MAAM,EAAEC,OAAO,wBAAwB;IACvCC,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE,WAAW;IACjBC,QAAQ,EAAE;EACZ,CAAC,EACD;IACEJ,MAAM,EAAEC,OAAO,wBAAwB;IACvCC,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE,WAAW;IACjBC,QAAQ,EAAE;EACZ,CAAC,EACD;IACEJ,MAAM,EAAEC,OAAO,wBAAwB;IACvCC,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE,iBAAiB;IACvBC,QAAQ,EAAE;EACZ,CAAC,EACD;IACEJ,MAAM,EAAEC,OAAO,wBAAwB;IACvCC,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE,SAAS;IACfC,QAAQ,EAAE;EACZ,CAAC,EACD;IACEJ,MAAM,EAAEC,OAAO,wBAAwB;IACvCC,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE,gBAAgB;IACtBC,QAAQ,EAAE;EACZ,CAAC,EACD;IACEJ,MAAM,EAAEC,OAAO,wBAAwB;IACvCC,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE,iBAAiB;IACvBC,QAAQ,EAAE;EACZ,CAAC,CACF,CAAC;EAAA;EA3CKC,OAAO;EAACC,UAAU;AA6CzB,IAAMC,aAAa,GAAG,SAAhBA,aAAa;EAAA,IAAMC,KAAK,QAALA,KAAK;IAAEL,IAAI,QAAJA,IAAI;IAAEM,OAAO,QAAPA,OAAO;IAAEC,KAAK,QAALA,KAAK;IAAEC,IAAI,QAAJA,IAAI;EAAA,OACxD,KAAC,IAAI;IAAC,KAAK,EAAED,KAAM;IAAA,UACjB,MAAC,gBAAgB;MAAC,OAAO,EAAED,OAAQ;MAAA,WACjC,KAAC,KAAK;QACJ,MAAM,EAAED,KAAM;QACd,KAAK,EAAE;UAAEV,KAAK,EAAEH,WAAW;UAAEiB,MAAM,EAAEb;QAAa;MAAE,EACpD,EACF,KAAC,IAAI;QAAC,KAAK,EAAE;UAAEc,QAAQ,EAAE,UAAU;UAAEC,GAAG,EAAEC,MAAM,CAACJ,IAAI,CAAC;UAAEK,IAAI,EAAE;QAAG,CAAE;QAAA,UACjE,KAAC,IAAI;UAAC,KAAK,EAAE;YAAEC,QAAQ,EAAE,EAAE;YAAEC,UAAU,EAAE;UAAO,CAAE;UAAA,UAAEf;QAAI;MAAQ,EAC3D;IAAA;EACU,EACd;AAAA,CACR;AAED,eAAe,SAASgB,aAAa,QAAiB;EAAA,IAAdC,UAAU,SAAVA,UAAU;EAChD,iBAAwC1B,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAhD2B,YAAY;IAAEC,eAAe;EACpC,OACE,MAAC,IAAI;IAAA,WACH,MAAC,KAAK;MACN,aAAa,EAAC,OAAO;MACrB,WAAW,EAAE,IAAK;MAClB,OAAO,EAAED,YAAa;MACtB,cAAc,EAAG,0BAAK;QAACf,UAAU,8BAAKD,OAAO,IAAE;UAACL,MAAM,EAAG,sBAAsB;UAAEE,GAAG,EAAEG,OAAO,CAACkB,MAAM,GAAC,CAAC;UAAEpB,IAAI,EAAE,KAAK;UAAEC,QAAQ,EAAE;QAAE,CAAC,GAAE;MAAA,CAAE;MAAA,WAEpI,KAAC,SAAS,KAAE,EACZ,KAAC,gBAAgB;QAAC,OAAO,EAAE;UAAA,OAAIkB,eAAe,CAAC,CAACD,YAAY,CAAC;QAAA,CAAC;QAAA,UAC5D,KAAC,IAAI;UAAC,KAAK,EAAE;YAACJ,QAAQ,EAAC;UAAE,CAAE;UAAA,UAAC;QAAI;MAAO,EACtB;IAAA,EACb,EAER,KAAC,IAAI;MAAA,UAEH,KAAC,gBAAgB;QACf,OAAO,EAAE,mBAAM;UACbK,eAAe,CAAC,IAAI,CAAC;QACvB,CAAE;QAAA,UAEF,KAAC,IAAI;UAAA,UAAC;QAAC;MAAO;IACG,EACd,EACP,KAAC,UAAU;MAAA,UACRjB,OAAO,CAACmB,GAAG,CAAC,UAACC,OAAO;QAAA,OAGnB,KAAC,aAAa;UAEZ,KAAK,EAAE;YACL3B,KAAK,EAAEH;UACT,CAAE;UACF,IAAI,EAAE8B,OAAO,CAACvB,GAAI;UAClB,KAAK,EAAEuB,OAAO,CAACzB,MAAO;UACtB,IAAI,EAAEyB,OAAO,CAACtB,IAAK;UACnB,OAAO,EAAE,mBAAM;YACbsB,OAAO,CAACrB,QAAQ,CAACsB,IAAI,CAAC,IAAIC,IAAI,EAAE,CAAC;YACjCC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;YACjC,IAAIJ,OAAO,CAACrB,QAAQ,CAACmB,MAAM,IAAI,CAAC,EAAE;cAChCK,OAAO,CAACC,GAAG,CACT,eAAe,GACb,CAACJ,OAAO,CAACrB,QAAQ,CAACqB,OAAO,CAACrB,QAAQ,CAACmB,MAAM,GAAG,CAAC,CAAC,GAC5CE,OAAO,CAACrB,QAAQ,CAACqB,OAAO,CAACrB,QAAQ,CAACmB,MAAM,GAAG,CAAC,CAAC,KAC5C,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,GAClB,UAAU,CACb;YACH;UACF;QAAE,GAnBGE,OAAO,CAACvB,GAAG,CAoBhB;MAAA,CACH;IAAC,EACS;EAAA,EACR;AAEX;AAEA,IAAM4B,MAAM,GAAGC,UAAU,CAACC,MAAM,CAAC;EAC/BC,YAAY,EAAE;IACZC,IAAI,EAAE,CAAC;IACPC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE,QAAQ;IACpBC,SAAS,EAAE;EACb,CAAC;EACDC,SAAS,EAAE;IACTC,MAAM,EAAE,EAAE;IACVC,eAAe,EAAE,OAAO;IACxBC,YAAY,EAAE,EAAE;IAChBC,OAAO,EAAE,EAAE;IACXN,UAAU,EAAE,QAAQ;IACpBO,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;MACZ9C,KAAK,EAAE,CAAC;MACRc,MAAM,EAAE;IACV,CAAC;IACDiC,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE,CAAC;IACfC,SAAS,EAAE;EACb,CAAC;EACDC,MAAM,EAAE;IACNP,YAAY,EAAE,EAAE;IAChBC,OAAO,EAAE,EAAE;IACXK,SAAS,EAAE;EACb,CAAC;EACDE,UAAU,EAAE;IACVT,eAAe,EAAE;EACnB,CAAC;EACDU,WAAW,EAAE;IACXV,eAAe,EAAE;EACnB,CAAC;EACDW,SAAS,EAAE;IACTC,KAAK,EAAE,OAAO;IACdlC,UAAU,EAAE,MAAM;IAClBmC,SAAS,EAAE;EACb,CAAC;EACDC,SAAS,EAAE;IACTC,YAAY,EAAE,EAAE;IAChBF,SAAS,EAAE;EACb;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}